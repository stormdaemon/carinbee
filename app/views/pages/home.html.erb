<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CARinBee - Location de Véhicules</title>
</head>
<body class="home-page">

  <header class="header-custom">
    <div class="container">
      <div class="row align-items-center justify-content-center">
        <div class="col-auto" data-controller="bee-animation" data-bee-animation-type-value="header" data-bee-animation-auto-play-value="true">
          <img src="https://i.postimg.cc/1Xf6vLRL/image-1-removebg-preview-1.png" alt="CARinBee Logo" class="brand-logo" data-bee-animation-target="beeIcon">
        </div>
        <div class="col-auto">
          <span class="brand-name">CARinBee</span>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-12 text-center">
            <p class="header-tagline">La référence de la location de véhicules entre particuliers</p>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-12 text-center">
            <div class="typed-text-container header-typed-text" data-controller="typed-text">
                <p><span data-typed-text-target="output"></span></p>
            </div>
        </div>
      </div>
    </div>
  </header>

  <main class="main-content">
    <div>
      <div class="row justify-content-center">
        <div class="col-12 text-center intro-text-main">
          <p>Rejoignez la Ruche : Des milliers de voitures prêtes à décoller !</p>
        </div>
      </div>

      <div class="row justify-content-center rejoindre-ruche-button-section">
        <div class="col-auto">
          <%= link_to vehicles_path, class: "no-underline" do %>
            <p class="btn-custom-yellow d-flex align-items-center">Rejoindre la Ruche
              <span>
                <img src="https://i.postimg.cc/1Xf6vLRL/image-1-removebg-preview-1.png" alt="logo" class="bee-pulse">
              </span>
            </p>
          <% end %>
        </div>
      </div>

      <div class="vehicle-cards-section">
        <div class="vehicle-cards-container">
          <% if @vehicles_group_by.any? %>
            <% @vehicles_group_by.each do |category, vehicles| %>
              <div class="vehicle-card">
                <div class="vehicle-card-image-wrapper">
                    <img src="<%= cl_image_path vehicles.first.photo.key, height: 300, crop: :fill %>"
                         class="vehicle-card-image"
                         alt="<%= "#{vehicles.first.brand} #{vehicles.first.model}" %>">
                </div>
                <div class="vehicle-card-footer">
                  <h3 class="vehicle-card-category"><%= category.presence || "Véhicule" %><span><img src="https://i.postimg.cc/1Xf6vLRL/image-1-removebg-preview-1.png" alt="logo" width="40"></span></h3>
                  <%= link_to "Explorer la catégorie", vehicles_path(category: category), class: "vehicle-card-button" %>
                </div>
              </div>
            <% end %>
          <% else %>
            <div class="text-center py-5 col-12">
              <p>Aucun véhicule des catégories Confort, Monospace ou Eco à afficher pour le moment.</p>
            </div>
          <% end %>
        </div>
      </div>

    </div>
  </main>
</body>
</html>
